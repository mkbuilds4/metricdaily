(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{24959:function(e,t,r){Promise.resolve().then(r.bind(r,30884))},58184:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.390.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(78030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},30884:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var i=r(57437),s=r(2265),n=r(48185),a=r(77209),l=r(89733),o=r(86763),d=r(61016),c=r(58184);/**
 * @license lucide-react v0.390.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r(78030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function f(){let[e,t]=(0,s.useState)(null),[r,f]=(0,s.useState)(!1),{toast:p}=(0,o.pm)(),m=async()=>{if(!e){p({variant:"destructive",title:"No File Selected",description:"Please select a JSON file to import."});return}if("application/json"!==e.type){p({variant:"destructive",title:"Invalid File Type",description:"Please select a valid JSON file (.json)."});return}f(!0);let t=new FileReader;t.onload=async e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;if("string"==typeof r)try{let e=(0,d.UI)(r);e.success?p({title:"Import Successful",description:"Application data has been imported."}):p({variant:"destructive",title:"Import Failed",description:e.error||"An unknown error occurred during import."})}catch(e){console.error("Error during import process:",e),p({variant:"destructive",title:"Import Error",description:e instanceof Error?e.message:"An unexpected error occurred."})}finally{f(!1)}else p({variant:"destructive",title:"File Read Error",description:"Could not read the file content."}),f(!1)},t.onerror=()=>{p({variant:"destructive",title:"File Read Error",description:"Failed to read the selected file."}),f(!1)},t.readAsText(e)};return(0,i.jsxs)("div",{className:"w-full max-w-2xl mx-auto space-y-8 p-4 md:p-6 lg:p-8",children:[(0,i.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-6 md:mb-8 text-center",children:"Import Application Data"}),(0,i.jsxs)(n.Zb,{children:[(0,i.jsxs)(n.Ol,{children:[(0,i.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"h-6 w-6"})," Upload Data File"]}),(0,i.jsx)(n.SZ,{children:"Select a JSON file containing your previously exported application data. This will overwrite all current data in the application."})]}),(0,i.jsxs)(n.aY,{className:"space-y-6",children:[(0,i.jsx)("div",{className:"p-4 border-l-4 border-destructive bg-destructive/10 text-destructive",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(u,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{className:"font-semibold",children:"Warning: Data Overwrite"}),(0,i.jsx)("p",{className:"text-sm",children:"Importing data will permanently replace all existing work logs, UPH targets, audit logs, and settings. This action cannot be undone. Please ensure you have a backup if needed."})]})]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"import-file",className:"block text-sm font-medium text-foreground mb-1",children:"Select JSON File"}),(0,i.jsx)(a.I,{id:"import-file",type:"file",accept:".json",onChange:e=>{e.target.files&&e.target.files[0]?t(e.target.files[0]):t(null)},className:"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),e&&(0,i.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected file: ",e.name]})]}),(0,i.jsx)(l.z,{onClick:m,disabled:r||!e,className:"w-full sm:w-auto",children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground mr-2"}),"Importing..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Import Data"]})})]})]})]})}},77209:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var i=r(57437),s=r(2265),n=r(49354);let a=s.forwardRef((e,t)=>{let{className:r,type:s,...a}=e;return(0,i.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});a.displayName="Input"},86763:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var i=r(2265);let s=0,n=new Map,a=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||i()}}}),{id:r,dismiss:i,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=i.useState(d);return i.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},45158:function(e,t,r){"use strict";r.d(t,{B:function(){return s}});var i=r(74546);function s(e,t){let r=(0,i.Q)(e);return r.setHours(t),r}},51936:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var i=r(74546);function s(e,t){let r=(0,i.Q)(e);return r.setMinutes(t),r}},59520:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var i=r(74546);function s(e,t){let r=(0,i.Q)(e);return r.setSeconds(t),r}},71475:function(e,t,r){"use strict";r.d(t,{k:function(){return s}});var i=r(72781);function s(e,t){return(0,i.E)(e,-t)}}},function(e){e.O(0,[472,733,544,971,23,744],function(){return e(e.s=24959)}),_N_E=e.O()}]);